(this.webpackJsonpnewsletter=this.webpackJsonpnewsletter||[]).push([[0],{24:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(11),s=c.n(r),i=c(3),o=c(5),u=c(6),j=c(8),l=c(7),b=c(4),d=c(0),h=function(e){var t=e.queryFunction,c=Object(n.useState)(!1),a=Object(i.a)(c,2),r=a[0],s=a[1],o=Object(n.useState)(""),u=Object(i.a)(o,2),j=u[0],l=u[1],h=function(){t(j)};return Object(d.jsx)("div",{className:"search-div",children:r?Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",placeholder:"Search",name:"search",onInput:function(e){return l(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&h()}}),Object(d.jsx)("button",{className:"search-btn",type:"submit","aria-label":"search",onClick:h,children:Object(d.jsx)(b.a,{icon:"search"})})]}):Object(d.jsx)("button",{className:"toggle-btn",type:"button","aria-label":"toggle-search",onClick:function(){s(!0)},children:Object(d.jsx)(b.a,{icon:"search"})})})},O=function(){var e=new Date;return Object(d.jsx)("div",{className:"date",children:Object(d.jsx)("p",{children:e.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})})},f=function(e){var t=e.categoryFunction,c=function(e){t(e.target.textContent)};return Object(d.jsx)("div",{className:"categories",children:["General","Business","Entertainment","Sports","Health","Science","Technology"].map((function(e){return Object(d.jsx)("button",{type:"button",onClick:c,children:e},e)}))})},x=function(e){var t=e.categoryFunction;return Object(d.jsxs)("div",{className:"menu",children:[Object(d.jsx)("div",{className:"search-div",children:Object(d.jsxs)("form",{children:[Object(d.jsx)("input",{type:"text",placeholder:"Search"}),Object(d.jsx)("button",{className:"search-btn",type:"submit","aria-label":"search",children:Object(d.jsx)(b.a,{icon:"search"})})]})}),Object(d.jsx)(f,{categoryFunction:t})]})},p=function(e){var t=e.view,c=e.queryFunction,a=e.categoryFunction,r=Object(n.useState)(!0),s=Object(i.a)(r,2),o=s[0],u=s[1],j=Object(n.useState)(!1),p=Object(i.a)(j,2),g=p[0],m=p[1],v=Object(n.useRef)(null);Object(n.useEffect)((function(){window.addEventListener("mousedown",(function(e){v.current&&g&&!v.current.contains(e.target)&&!0===g&&m(!1)}))}));Object(n.useEffect)((function(){u(t)}),[t]);var y=Object(l.useMediaQuery)({query:"(min-width: 1080px)"});return Object(d.jsx)("div",{className:"header",children:y?Object(d.jsxs)("div",{className:"header",children:[Object(d.jsx)(O,{}),o?Object(d.jsx)(f,{categoryFunction:a}):Object(d.jsx)("h1",{children:"NewsLetter"}),Object(d.jsx)("div",{className:"button-div header-right",children:Object(d.jsx)(h,{queryFunction:c})})]}):Object(d.jsxs)("div",{className:"header",ref:v,children:[Object(d.jsx)(O,{}),Object(d.jsx)("h1",{children:"NewsLetter"}),g?Object(d.jsx)(x,{categoryFunction:a}):Object(d.jsx)("button",{className:"list-btn header-right",type:"button","aria-label":"list",onClick:function(){m(!0)},children:Object(d.jsx)(b.a,{icon:"bars"})})]})})},g=c(12),m=c(13),v=function(e){var t=e.title,c=e.description,a=e.image,r=e.url,s=e.author,o=e.date,u=Object(n.useState)(c),j=Object(i.a)(u,2),l=j[0],b=j[1],h=Object(n.useState)(a),O=Object(i.a)(h,2),f=O[0],x=O[1];return Object(n.useEffect)((function(){null==a&&x("images/news-placeholder.png"),null!=c&&""!==c||b("Description not available")})),Object(d.jsxs)("div",{className:"card",children:[Object(d.jsx)("a",{href:r,children:Object(d.jsx)("img",{src:f,alt:"news-img"})}),Object(d.jsxs)("div",{className:"text-content",children:[Object(d.jsx)("a",{href:r,children:t}),Object(d.jsx)("p",{className:"description",children:l}),Object(d.jsxs)("div",{className:"card-footer",children:[Object(d.jsx)("p",{className:"date",children:o}),Object(d.jsx)("p",{className:"author",children:s})]})]})]})};v.defaultProps={description:"",image:"",author:""};var y=v,w=function(e){for(var t=e.pageFunction,c=e.scrollFunction,n=[],a=function(e){t(e.target.textContent),c()},r=1;r<=8;r+=1)n.push(Object(d.jsx)("button",{type:"button",onClick:a,children:r},r));return Object(d.jsx)("div",{className:"pages",children:n})},N=function(e){var t=e.articles,c=e.viewFunc,a=e.pageFunction,r=function(){window.scrollTo(0,0)},s=Object(l.useMediaQuery)({query:"(min-width: 1080px)"}),i=Object(g.a)({threshold:0}),o=i.ref,u=i.inView;i.entry;return Object(n.useEffect)((function(){c(u)}),[u]),Object(d.jsxs)("div",{className:"feed",children:[s&&Object(d.jsxs)("div",{className:"title-div",children:[Object(d.jsx)("h1",{ref:o,children:"NewsLetter"}),Object(d.jsx)("hr",{})]}),Object(d.jsx)(m.a,{className:"masonry",breakpointCols:{default:3,1200:3,992:3,768:2,576:1},columnClassName:"masonry-column",children:t.map((function(e){return Object(d.jsx)(y,{title:e.title,description:e.description,image:e.urlToImage,url:e.url,date:(t=e.publishedAt,new Date(t).toLocaleDateString("en-GB")),author:e.author},"".concat(e.urlToImage).concat(e.title));var t}))}),Object(d.jsx)("hr",{}),Object(d.jsx)(w,{pageFunction:a,scrollFunction:r}),!u&&Object(d.jsx)("button",{type:"button",className:"to-top-btn",onClick:r,"aria-label":"to-top",children:Object(d.jsx)(b.a,{icon:"arrow-up"})})]})},S=function(){var e=Object(n.useState)("search"),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useState)("london"),s=Object(i.a)(r,2),o=s[0],u=s[1],j=Object(n.useState)(""),l=Object(i.a)(j,2),b=l[0],h=l[1],O=Object(n.useState)(1),f=Object(i.a)(O,2),x=f[0],g=f[1],m=Object(n.useState)([]),v=Object(i.a)(m,2),y=v[0],w=v[1],S=Object(n.useState)(!0),F=Object(i.a)(S,2),k=F[0],E=F[1];return"search"===c?Object(n.useEffect)((function(){fetch("https://newsapi.org/v2/everything?q=".concat(o,"&page=").concat(x,"&language=en&sortBy=popularity&pageSize=24&apiKey=f61fd3b021fd49a38cda24a807671be9")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")})).then((function(e){w(e.articles)}),(function(e){return e})),console.log("query mode")}),[o,x]):"category"===c&&Object(n.useEffect)((function(){fetch("https://newsapi.org/v2/top-headlines?category=".concat(b,"&language=en&page=").concat(x,"&pageSize=24&apiKey=f61fd3b021fd49a38cda24a807671be9")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong.")})).then((function(e){w(e.articles)}),(function(e){return e})),console.log("category mode")}),[b,x]),Object(d.jsxs)("div",{children:[Object(d.jsx)(p,{view:k,queryFunction:function(e){a("search"),u(e)},categoryFunction:function(e){a("category"),h(e)}}),Object(d.jsx)(N,{articles:y,viewFunc:function(e){E(e)},pageFunction:function(e){g(e)}})]})};o.b.add(u.e,j.c,u.c,j.b,j.a,u.d,u.b,u.a),s.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(S,{})}),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.5f30d7e4.chunk.js.map